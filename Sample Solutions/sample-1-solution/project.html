<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="jquery-3.1.1.js" type="text/javascript"></script>
        <script>
            $(function() {
               // place a random one mine.
               var mine = Math.floor(Math.random() * 25) ;
               $("#" + mine).html('<img src="mine.png" />').addClass('mine') ;
               $("td").click(function(){
                  var id = parseInt($(this).attr("id")) ;
                  if ( id === mine) {
                     $("body").append("<p>Mine Clicked.</p>"); 
                  } else {
                      var up = id > 4 ? id - 5 : false ;
                      var down = id < 20 ? id + 5 : false ;
                      var left = id % 5 === 0 ? false : id - 1  ;
                      var right = id % 5 === 4 ? false : id + 1  ;
                      var upright =  up === false || right === false ? false : up + 1 ;
                      var upleft =  up === false || left === false ? false : up - 1 ;
                      var downright =  down === false || right === false ? false : down + 1 ;
                      var downleft =  down === false || left === false ? false : down - 1 ;
                      if ( up === mine || down === mine || left === mine || right === mine || upright === mine || upleft === mine || downright === mine || downleft === mine) {
                       $(this).html("1").addClass("open") ;
                      } else {
                          $(this).html("0").addClass("open");
                      }
                      $("p:first span").html( $(".open").length);
                  }
                });
            });
        </script>
        <style>
            table { margin: 40px auto;}
            td { width: 40px; height: 40px; border:1px solid black; text-align: center; vertical-align: middle;}
            p, div { text-align: center;}
        </style>
    </head>
    <body>
        <p>Open Cell : <span>0</span></p>
        <table>
            <tr>
                <td id="0"></td>
                <td id="1"></td>
                <td id="2"></td>
                <td id="3"></td>
                <td id="4"></td>
            </tr>
            <tr>
                
                <td id="5"></td>
                <td id="6"></td>
                <td id="7"></td>
                <td id="8"></td>
                <td id="9"></td>
            </tr>
            <tr>
                
                <td id="10"></td>
                <td id="11"></td>
                <td id="12"></td>
                <td id="13"></td>
                <td id="14"></td>
            </tr>
            <tr>
                <td id="15"></td>
                <td id="16"></td>
                <td id="17"></td>
                <td id="18"></td>
                <td id="19"></td>
            </tr>
            <tr>
                <td id="20"></td>
                <td id="21"></td>
                <td id="22"></td>
                <td id="23"></td>
                <td id="24"></td>
            </tr>
        </table>
    </body>
</html>
